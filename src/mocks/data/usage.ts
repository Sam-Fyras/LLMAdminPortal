import {
  TokenLimit,
  RoleTokenLimit,
  UserTokenLimit,
  QuotaCheck,
  TokenUsageLog,
  UsageAnalytics,
} from '../../types';

// Mock tenant-level token limit
export const mockTenantLimit: TokenLimit = {
  id: 'limit-tenant-1',
  tenantId: 'tenant-123',
  schemaVersion: '1.0',
  createdDate: '2025-01-01T00:00:00Z',
  updatedDate: '2026-02-01T00:00:00Z',
  monthly_limit: 10000000,
  daily_limit: 500000,
  hourly_limit: 50000,
  monthly_used: 4500000,
  daily_used: 125000,
  hourly_used: 8500,
  monthly_reset_date: '2026-03-01T00:00:00Z',
  daily_reset_date: '2026-02-04T00:00:00Z',
};

// Mock role token limits
export const mockRoleLimits: RoleTokenLimit[] = [
  {
    id: 'role-limit-1',
    tenantId: 'tenant-123',
    schemaVersion: '1.0',
    createdDate: '2025-01-01T00:00:00Z',
    updatedDate: '2026-01-01T00:00:00Z',
    role_id: 'role-admin',
    role_name: 'Admin',
    monthly_limit: 5000000,
    daily_limit: 200000,
    hourly_limit: 20000,
    per_request_limit: 10000,
    description: 'Unlimited access for administrators',
    is_active: true,
  },
  {
    id: 'role-limit-2',
    tenantId: 'tenant-123',
    schemaVersion: '1.0',
    createdDate: '2025-01-01T00:00:00Z',
    updatedDate: '2026-01-01T00:00:00Z',
    role_id: 'role-developer',
    role_name: 'Developer',
    monthly_limit: 2000000,
    daily_limit: 100000,
    hourly_limit: 10000,
    per_request_limit: 5000,
    description: 'Standard developer access',
    is_active: true,
  },
  {
    id: 'role-limit-3',
    tenantId: 'tenant-123',
    schemaVersion: '1.0',
    createdDate: '2025-01-01T00:00:00Z',
    updatedDate: '2026-01-01T00:00:00Z',
    role_id: 'role-analyst',
    role_name: 'Analyst',
    monthly_limit: 1000000,
    daily_limit: 50000,
    hourly_limit: 5000,
    per_request_limit: 3000,
    description: 'Limited access for analysts',
    is_active: true,
  },
  {
    id: 'role-limit-4',
    tenantId: 'tenant-123',
    schemaVersion: '1.0',
    createdDate: '2025-01-01T00:00:00Z',
    updatedDate: '2026-01-01T00:00:00Z',
    role_id: 'role-viewer',
    role_name: 'Viewer',
    monthly_limit: 100000,
    daily_limit: 5000,
    hourly_limit: 500,
    per_request_limit: 1000,
    description: 'Read-only access',
    is_active: true,
  },
];

// Mock user token limits (overrides)
export const mockUserLimits: UserTokenLimit[] = [
  {
    id: 'user-limit-1',
    tenantId: 'tenant-123',
    userId: 'user-2',
    schemaVersion: '1.0',
    createdDate: '2026-01-15T00:00:00Z',
    updatedDate: '2026-01-15T00:00:00Z',
    monthly_limit: 1500000,
    daily_limit: 75000,
    hourly_limit: 7500,
    per_request_limit: 4000,
    override_role_limit: true,
    reason: 'Special project - increased quota for Q1 2026',
    valid_from: '2026-01-15T00:00:00Z',
    valid_until: '2026-03-31T23:59:59Z',
    created_by: 'admin@acme.com',
    is_active: true,
  },
];

// Mock quota check response
export const mockQuotaCheck: QuotaCheck = {
  can_proceed: true,
  effective_limit: 50000,
  current_usage: 12500,
  remaining: 37500,
  checks: {
    tenant_level: true,
    role_level: true,
    user_level: true,
  },
  reset_times: {
    monthly: '2026-03-01T00:00:00Z',
    daily: '2026-02-04T00:00:00Z',
  },
};

// Mock usage logs
export const mockUsageLogs: TokenUsageLog[] = [
  {
    id: 'log-1',
    tenantId: 'tenant-123',
    userId: 'user-1',
    schemaVersion: '1.0',
    createdDate: '2026-02-03T10:00:00Z',
    updatedDate: '2026-02-03T10:00:00Z',
    request_id: 'req-abc123',
    provider: 'openai',
    model: 'gpt-4',
    input_tokens: 150,
    output_tokens: 450,
    total_tokens: 600,
    request_timestamp: '2026-02-03T10:00:00Z',
    response_time_ms: 1200,
    success: true,
    cost: 0.036,
  },
  {
    id: 'log-2',
    tenantId: 'tenant-123',
    userId: 'user-2',
    schemaVersion: '1.0',
    createdDate: '2026-02-03T10:05:00Z',
    updatedDate: '2026-02-03T10:05:00Z',
    request_id: 'req-def456',
    provider: 'anthropic',
    model: 'claude-3-sonnet',
    input_tokens: 200,
    output_tokens: 800,
    total_tokens: 1000,
    request_timestamp: '2026-02-03T10:05:00Z',
    response_time_ms: 1500,
    success: true,
    cost: 0.05,
  },
  {
    id: 'log-3',
    tenantId: 'tenant-123',
    userId: 'user-3',
    schemaVersion: '1.0',
    createdDate: '2026-02-03T10:10:00Z',
    updatedDate: '2026-02-03T10:10:00Z',
    request_id: 'req-ghi789',
    provider: 'openai',
    model: 'gpt-3.5-turbo',
    input_tokens: 100,
    output_tokens: 300,
    total_tokens: 400,
    request_timestamp: '2026-02-03T10:10:00Z',
    response_time_ms: 800,
    success: false,
    error_message: 'Rate limit exceeded',
    cost: 0,
  },
];

// Mock usage analytics
export const mockUsageAnalytics: UsageAnalytics = {
  tenant_id: 'tenant-123',
  period: {
    start_date: '2026-01-27T00:00:00Z',
    end_date: '2026-02-03T00:00:00Z',
    time_range: '7d',
  },
  summary: {
    total_requests: 15420,
    successful_requests: 15234,
    failed_requests: 186,
    total_tokens: 8750000,
    input_tokens: 2450000,
    output_tokens: 6300000,
    total_cost: 437.5,
    avg_tokens_per_request: 567,
    avg_response_time_ms: 1150,
  },
  by_day: [
    {
      date: '2026-01-27',
      requests: 2100,
      tokens: 1200000,
      cost: 60.0,
      avg_response_time_ms: 1100,
    },
    {
      date: '2026-01-28',
      requests: 2250,
      tokens: 1280000,
      cost: 64.0,
      avg_response_time_ms: 1120,
    },
    {
      date: '2026-01-29',
      requests: 2180,
      tokens: 1240000,
      cost: 62.0,
      avg_response_time_ms: 1140,
    },
    {
      date: '2026-01-30',
      requests: 2300,
      tokens: 1310000,
      cost: 65.5,
      avg_response_time_ms: 1160,
    },
    {
      date: '2026-01-31',
      requests: 2150,
      tokens: 1220000,
      cost: 61.0,
      avg_response_time_ms: 1150,
    },
    {
      date: '2026-02-01',
      requests: 2240,
      tokens: 1275000,
      cost: 63.75,
      avg_response_time_ms: 1180,
    },
    {
      date: '2026-02-02',
      requests: 2200,
      tokens: 1225000,
      cost: 61.25,
      avg_response_time_ms: 1170,
    },
  ],
  by_model: [
    {
      model: 'gpt-4',
      requests: 6800,
      tokens: 4250000,
      cost: 255.0,
      percentage: 48.6,
    },
    {
      model: 'claude-3-sonnet',
      requests: 4200,
      tokens: 2100000,
      cost: 105.0,
      percentage: 24.0,
    },
    {
      model: 'gpt-3.5-turbo',
      requests: 3150,
      tokens: 1575000,
      cost: 47.25,
      percentage: 18.0,
    },
    {
      model: 'gemini-pro',
      requests: 1270,
      tokens: 825000,
      cost: 30.25,
      percentage: 9.4,
    },
  ],
  by_user: [
    {
      user_id: 'user-1',
      user_email: 'admin@acme.com',
      requests: 5680,
      tokens: 3200000,
      cost: 160.0,
    },
    {
      user_id: 'user-2',
      user_email: 'analyst@acme.com',
      requests: 4750,
      tokens: 2650000,
      cost: 132.5,
    },
    {
      user_id: 'user-3',
      user_email: 'dev@acme.com',
      requests: 4200,
      tokens: 2350000,
      cost: 117.5,
    },
    {
      user_id: 'user-4',
      user_email: 'viewer@acme.com',
      requests: 790,
      tokens: 550000,
      cost: 27.5,
    },
  ],
  top_users: [
    { user_id: 'user-1', tokens: 3200000, rank: 1 },
    { user_id: 'user-2', tokens: 2650000, rank: 2 },
    { user_id: 'user-3', tokens: 2350000, rank: 3 },
  ],
};
