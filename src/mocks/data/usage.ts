import {
  TokenLimit,
  RoleTokenLimit,
  UserTokenLimit,
  QuotaCheck,
  TokenUsageLog,
  UsageAnalytics,
} from '../../types';

// Mock tenant-level token limit
export const mockTenantLimit: TokenLimit = {
  id: 'limit-tenant-1',
  tenantId: 'tenant-123',
  schemaVersion: '1.0',
  createdDate: '2025-01-01T00:00:00Z',
  updatedDate: '2026-02-01T00:00:00Z',
  monthly_limit: 10000000,
  daily_limit: 500000,
  hourly_limit: 50000,
  monthly_used: 4500000,
  daily_used: 125000,
  hourly_used: 8500,
  monthly_reset_date: '2026-03-01T00:00:00Z',
  daily_reset_date: '2026-02-04T00:00:00Z',
};

// Mock role token limits
export const mockRoleLimits: RoleTokenLimit[] = [
  {
    id: 'role-limit-1',
    tenantId: 'tenant-123',
    schemaVersion: '1.0',
    createdDate: '2025-01-01T00:00:00Z',
    updatedDate: '2026-01-01T00:00:00Z',
    role_id: 'role-admin',
    role_name: 'Admin',
    monthly_limit: 5000000,
    daily_limit: 200000,
    hourly_limit: 20000,
    per_request_limit: 10000,
    description: 'Unlimited access for administrators',
    is_active: true,
  },
  {
    id: 'role-limit-2',
    tenantId: 'tenant-123',
    schemaVersion: '1.0',
    createdDate: '2025-01-01T00:00:00Z',
    updatedDate: '2026-01-01T00:00:00Z',
    role_id: 'role-developer',
    role_name: 'Developer',
    monthly_limit: 2000000,
    daily_limit: 100000,
    hourly_limit: 10000,
    per_request_limit: 5000,
    description: 'Standard developer access',
    is_active: true,
  },
  {
    id: 'role-limit-3',
    tenantId: 'tenant-123',
    schemaVersion: '1.0',
    createdDate: '2025-01-01T00:00:00Z',
    updatedDate: '2026-01-01T00:00:00Z',
    role_id: 'role-analyst',
    role_name: 'Analyst',
    monthly_limit: 1000000,
    daily_limit: 50000,
    hourly_limit: 5000,
    per_request_limit: 3000,
    description: 'Limited access for analysts',
    is_active: true,
  },
  {
    id: 'role-limit-4',
    tenantId: 'tenant-123',
    schemaVersion: '1.0',
    createdDate: '2025-01-01T00:00:00Z',
    updatedDate: '2026-01-01T00:00:00Z',
    role_id: 'role-viewer',
    role_name: 'Viewer',
    monthly_limit: 100000,
    daily_limit: 5000,
    hourly_limit: 500,
    per_request_limit: 1000,
    description: 'Read-only access',
    is_active: true,
  },
];

// Mock user token limits (overrides)
export const mockUserLimits: UserTokenLimit[] = [
  {
    id: 'user-limit-1',
    tenantId: 'tenant-123',
    userId: 'user-2',
    schemaVersion: '1.0',
    createdDate: '2026-01-15T00:00:00Z',
    updatedDate: '2026-01-15T00:00:00Z',
    monthly_limit: 1500000,
    daily_limit: 75000,
    hourly_limit: 7500,
    per_request_limit: 4000,
    override_role_limit: true,
    reason: 'Special project - increased quota for Q1 2026',
    valid_from: '2026-01-15T00:00:00Z',
    valid_until: '2026-03-31T23:59:59Z',
    created_by: 'admin@acme.com',
    is_active: true,
  },
];

// Mock quota check response
export const mockQuotaCheck: QuotaCheck = {
  can_proceed: true,
  effective_limit: 50000,
  current_usage: 12500,
  remaining: 37500,
  checks: {
    tenant_level: true,
    role_level: true,
    user_level: true,
  },
  reset_times: {
    monthly: '2026-03-01T00:00:00Z',
    daily: '2026-02-04T00:00:00Z',
  },
};

// Mock usage logs
export const mockUsageLogs: TokenUsageLog[] = [
  {
    id: 'log-1',
    tenantId: 'tenant-123',
    userId: 'user-1',
    schemaVersion: '1.0',
    createdDate: '2026-02-03T10:00:00Z',
    updatedDate: '2026-02-03T10:00:00Z',
    request_id: 'req-abc123',
    provider: 'openai',
    model: 'gpt-4',
    input_tokens: 150,
    output_tokens: 450,
    total_tokens: 600,
    request_timestamp: '2026-02-03T10:00:00Z',
    response_time_ms: 1200,
    success: true,
    cost: 0.036,
  },
  {
    id: 'log-2',
    tenantId: 'tenant-123',
    userId: 'user-2',
    schemaVersion: '1.0',
    createdDate: '2026-02-03T10:05:00Z',
    updatedDate: '2026-02-03T10:05:00Z',
    request_id: 'req-def456',
    provider: 'anthropic',
    model: 'claude-3-sonnet',
    input_tokens: 200,
    output_tokens: 800,
    total_tokens: 1000,
    request_timestamp: '2026-02-03T10:05:00Z',
    response_time_ms: 1500,
    success: true,
    cost: 0.05,
  },
  {
    id: 'log-3',
    tenantId: 'tenant-123',
    userId: 'user-3',
    schemaVersion: '1.0',
    createdDate: '2026-02-03T10:10:00Z',
    updatedDate: '2026-02-03T10:10:00Z',
    request_id: 'req-ghi789',
    provider: 'openai',
    model: 'gpt-3.5-turbo',
    input_tokens: 100,
    output_tokens: 300,
    total_tokens: 400,
    request_timestamp: '2026-02-03T10:10:00Z',
    response_time_ms: 800,
    success: false,
    error_message: 'Rate limit exceeded',
    cost: 0,
  },
];

// Mock usage analytics (simplified to match type definition)
export const mockUsageAnalytics: UsageAnalytics = {
  period: '7d',
  data: [
    {
      date: '2026-01-27',
      total_tokens: 1200000,
      total_requests: 2100,
      cost: 60.0,
      by_model: {
        'gpt-4': 600000,
        'claude-3-sonnet': 400000,
        'gpt-3.5-turbo': 200000,
      },
    },
    {
      date: '2026-01-28',
      total_tokens: 1280000,
      total_requests: 2250,
      cost: 64.0,
      by_model: {
        'gpt-4': 640000,
        'claude-3-sonnet': 420000,
        'gpt-3.5-turbo': 220000,
      },
    },
    {
      date: '2026-01-29',
      total_tokens: 1240000,
      total_requests: 2180,
      cost: 62.0,
      by_model: {
        'gpt-4': 620000,
        'claude-3-sonnet': 410000,
        'gpt-3.5-turbo': 210000,
      },
    },
    {
      date: '2026-01-30',
      total_tokens: 1310000,
      total_requests: 2300,
      cost: 65.5,
      by_model: {
        'gpt-4': 655000,
        'claude-3-sonnet': 430000,
        'gpt-3.5-turbo': 225000,
      },
    },
    {
      date: '2026-01-31',
      total_tokens: 1220000,
      total_requests: 2150,
      cost: 61.0,
      by_model: {
        'gpt-4': 610000,
        'claude-3-sonnet': 400000,
        'gpt-3.5-turbo': 210000,
      },
    },
    {
      date: '2026-02-01',
      total_tokens: 1275000,
      total_requests: 2240,
      cost: 63.75,
      by_model: {
        'gpt-4': 637500,
        'claude-3-sonnet': 420000,
        'gpt-3.5-turbo': 217500,
      },
    },
    {
      date: '2026-02-02',
      total_tokens: 1225000,
      total_requests: 2200,
      cost: 61.25,
      by_model: {
        'gpt-4': 612500,
        'claude-3-sonnet': 405000,
        'gpt-3.5-turbo': 207500,
      },
    },
  ],
  summary: {
    total_tokens: 8750000,
    total_requests: 15420,
    total_cost: 437.5,
    avg_tokens_per_request: 567,
  },
};
